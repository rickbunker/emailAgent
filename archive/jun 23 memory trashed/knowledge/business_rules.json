{
    "metadata": {
        "description": "Business rules and processing logic for procedural memory",
        "version": "2.0.0",
        "created_date": "2025-06-20",
        "memory_type": "procedural",
        "notes": "Core business logic that drives email processing decisions"
    },
    "confidence_thresholds": {
        "asset_identification": {
            "high_confidence": 0.90,
            "medium_confidence": 0.70,
            "low_confidence": 0.50,
            "minimum_threshold": 0.70,
            "sender_mapping_confidence": 0.95
        },
        "document_classification": {
            "high_confidence": 0.85,
            "medium_confidence": 0.65,
            "low_confidence": 0.45,
            "minimum_threshold": 0.50
        },
        "human_review_triggers": {
            "asset_confidence_below": 0.70,
            "classification_confidence_below": 0.65,
            "no_asset_match": true,
            "multiple_asset_matches": true,
            "suspicious_file_type": true
        }
    },
    "processing_rules": {
        "email_search": {
            "lookback_hours": 24,
            "max_emails_per_run": 100,
            "attachment_required": true,
            "skip_processed": true
        },
        "file_validation": {
            "max_file_size_mb": 100,
            "allowed_extensions": [
                ".pdf",
                ".doc",
                ".docx",
                ".xls",
                ".xlsx",
                ".ppt",
                ".pptx",
                ".txt",
                ".csv",
                ".rtf"
            ],
            "quarantine_extensions": [
                ".exe",
                ".bat",
                ".cmd",
                ".com",
                ".scr",
                ".vbs",
                ".js",
                ".jar",
                ".app",
                ".zip"
            ],
            "scan_for_malware": false
        },
        "asset_matching": {
            "use_sender_mappings_first": true,
            "check_email_subject": true,
            "check_email_body": true,
            "check_attachment_name": true,
            "partial_match_minimum_chars": 3,
            "case_sensitive": false
        },
        "classification": {
            "use_asset_type_constraints": true,
            "fallback_category": "correspondence",
            "allow_multiple_categories": false,
            "prefer_specific_over_general": true
        }
    },
    "fallback_rules": {
        "no_asset_match": {
            "action": "store_in_unmatched",
            "notification": "human_review_required",
            "folder": "to_be_reviewed/no_asset_match"
        },
        "no_category_match": {
            "action": "use_fallback_category",
            "category": "correspondence",
            "confidence": 0.50
        },
        "low_confidence": {
            "action": "flag_for_review",
            "store_anyway": true,
            "add_confidence_suffix": true
        },
        "error_handling": {
            "action": "quarantine",
            "notification": "admin_alert",
            "retry_count": 3
        }
    },
    "learning_configuration": {
        "episodic_learning_enabled": true,
        "minimum_feedback_for_pattern": 3,
        "confidence_boost_per_success": 0.05,
        "confidence_penalty_per_failure": 0.10,
        "max_confidence_from_learning": 0.90,
        "forget_threshold_days": 365
    }
}
