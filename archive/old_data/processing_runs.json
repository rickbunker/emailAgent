{
  "runs": [
    {
      "run_id": "ae7d2d80-cf63-4baf-87e4-a3eb1e75e529",
      "timestamp": "2025-06-19T21:55:59.479359+00:00",
      "parameters": {
        "mailbox_id": "msgraph_primary",
        "mailbox_name": "Microsoft 365 (Primary Account)",
        "hours_back": 720,
        "force_reprocess": false,
        "timestamp": "2025-06-19T21:55:38.943640+00:00"
      },
      "results": {
        "status": "success",
        "results": [
          {
            "mailbox_id": "msgraph_primary",
            "total_emails": 5,
            "processed_emails": 5,
            "skipped_emails": 0,
            "errors": 0,
            "processing_details": [
              {
                "email_id": "AAMkADI0ODU2ZGU3LTI5ZGQtNDY0Ni1iYzFiLWI4ZjRhMTljNTQ1YQBGAAAAAABkUMqTMlvDRKOQVnvEdfPOBwBj6T3RpLOLQb4RwZjxcAz3AAAAAAEMAABj6T3RpLOLQb4RwZjxcAz3AAAEJyNuAAA=",
                "subject": "test av message 2",
                "sender": "rick@bunker.us",
                "attachments_count": 1,
                "processing_info": {
                  "attachments_processed": 1,
                  "attachments_classified": 1,
                  "assets_matched": [
                    {
                      "asset_id": "TEST_ASSET_123",
                      "confidence": 0.5454545454545454,
                      "attachment_name": "fix displays.png",
                      "file_path": "/Users/richardbunker/python/emailAgent/assets/uncategorized/unknown_asset/fix displays_001.png",
                      "document_category": "unknown",
                      "confidence_level": "medium",
                      "classification_metadata": {
                        "classification_confidence": 0.0,
                        "asset_confidence": 0.5454545454545454,
                        "overall_confidence": 0.2727272727272727,
                        "learning_source": "combined_memory_types",
                        "patterns_used": "combined_memory_types",
                        "detailed_patterns": {
                          "method_used": "combined_memory_classification",
                          "input_context": {
                            "filename": "fix displays.png",
                            "subject": "test av message 2",
                            "body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "asset_type": "unknown",
                            "asset_id": "TEST_ASSET_123",
                            "document_length": 1008
                          },
                          "memory_contributions": {
                            "procedural": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.25,
                              "rules_applied": [],
                              "category_scores": {},
                              "context_metrics": {
                                "asset_type_matches": 0,
                                "constraint_applications": 0,
                                "asset_context_enhancements": 0,
                                "total_rules_evaluated": 0,
                                "avg_confidence": 0.0
                              },
                              "enhancement_factors": {
                                "asset_type_boost": 1.5,
                                "asset_type_penalty": 0.6,
                                "constraint_strength": 0.6400000000000001,
                                "context_confidence_threshold": 0.3
                              },
                              "status": "enhanced_phase_3_1"
                            },
                            "semantic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.3,
                              "hints_found": [],
                              "category_scores": {},
                              "total_hints": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.2,
                              "experiences": [],
                              "status": "no_experiences"
                            },
                            "contact": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.25,
                              "patterns": [],
                              "category_scores": {},
                              "sender_found": true,
                              "total_patterns": 0,
                              "status": "success"
                            }
                          },
                          "asset_type_constraints": {
                            "allowed_categories": [
                              "financial_statements",
                              "legal_documents",
                              "tax_documents",
                              "insurance",
                              "correspondence",
                              "unknown"
                            ],
                            "constraint_applied": true,
                            "filtered_out": [],
                            "constraint_strength": 0.6400000000000001,
                            "status": "success",
                            "fallback_used": "asset_type_specific",
                            "sources": [],
                            "total_sources": 0,
                            "semantic_matches": 0
                          },
                          "decision_flow": [
                            "Starting multi-memory document classification",
                            "Applied classification weights: {'procedural': 0.25, 'semantic': 0.3, 'episodic': 0.2, 'contact': 0.25}",
                            "No categories predicted by any memory source",
                            "Unknown category - very low confidence"
                          ],
                          "category_scores": {},
                          "final_category": "other",
                          "final_confidence": 0.0,
                          "primary_driver": "none",
                          "confidence_level": "very_low"
                        },
                        "asset_identification_details": {
                          "method_used": "combined_memory_system",
                          "input_context": {
                            "email_subject": "test av message 2",
                            "email_body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "filename": "fix displays.png",
                            "sender_email": "rick@bunker.us",
                            "total_assets_available": 4
                          },
                          "memory_contributions": {
                            "procedural": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.25,
                              "assets_analyzed": 4,
                              "matching_algorithm": "identifier_based_scoring",
                              "status": "success"
                            },
                            "semantic": {
                              "matches": [
                                {
                                  "asset_id": "TEST_ASSET_123",
                                  "confidence": 1.0,
                                  "asset_name": "Unknown"
                                },
                                {
                                  "asset_id": "0ff9bbe8-2eee-431b-b578-d5e4e1efb999",
                                  "confidence": 1.0,
                                  "asset_name": "Gray IV"
                                },
                                {
                                  "asset_id": "6eb0d176-3bd4-48c2-bce4-c01070dca7a3",
                                  "confidence": 1.0,
                                  "asset_name": "IDT Revolver"
                                },
                                {
                                  "asset_id": "3630bb9c-eee2-4131-9af5-d5d6a287e2db",
                                  "confidence": 1.0,
                                  "asset_name": "Trimble BoA"
                                },
                                {
                                  "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                                  "confidence": 1.0,
                                  "asset_name": "i3 Revolver"
                                }
                              ],
                              "confidence": 1.0,
                              "weight": 0.3,
                              "knowledge_signals": 9,
                              "feedback_signals": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "no_experiences"
                            },
                            "contact": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "unknown_sender"
                            }
                          },
                          "decision_flow": [
                            "Starting multi-memory asset identification",
                            "Applied memory weights: {'procedural': 0.45454545454545453, 'semantic': 0.5454545454545454, 'episodic': 0.0, 'contact': 0.0}",
                            "Combined 5 candidate assets, produced 5 final matches, primary driver: semantic",
                            "Decision confidence: medium (top score: 0.545, active sources: 1)"
                          ],
                          "final_scores": {
                            "TEST_ASSET_123": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Unknown"
                            },
                            "3630bb9c-eee2-4131-9af5-d5d6a287e2db": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Trimble BoA"
                            },
                            "687724b4-93e4-4dd9-8c52-1bab0162a5a6": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "i3 Revolver"
                            },
                            "6eb0d176-3bd4-48c2-bce4-c01070dca7a3": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "IDT Revolver"
                            },
                            "0ff9bbe8-2eee-431b-b578-d5e4e1efb999": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Gray IV"
                            }
                          },
                          "primary_driver": "semantic",
                          "confidence_level": "medium"
                        },
                        "asset_type_used": "unknown",
                        "memory_integration": "phase_2_complete",
                        "processing_timestamp": "2025-06-19T21:55:58.072156+00:00"
                      }
                    }
                  ],
                  "processing_time": "2025-06-19T21:55:45.867573+00:00",
                  "quarantined": 0,
                  "duplicates": 0,
                  "errors": 0,
                  "parallel_attachments": true
                }
              },
              {
                "email_id": "AAMkADI0ODU2ZGU3LTI5ZGQtNDY0Ni1iYzFiLWI4ZjRhMTljNTQ1YQBGAAAAAABkUMqTMlvDRKOQVnvEdfPOBwBj6T3RpLOLQb4RwZjxcAz3AAAAAAEMAABj6T3RpLOLQb4RwZjxcAz3AAAEJyNtAAA=",
                "subject": "test av message",
                "sender": "rick@bunker.us",
                "attachments_count": 1,
                "processing_info": {
                  "attachments_processed": 1,
                  "attachments_classified": 0,
                  "assets_matched": [],
                  "processing_time": "2025-06-19T21:55:45.867885+00:00",
                  "quarantined": 0,
                  "duplicates": 0,
                  "errors": 0,
                  "parallel_attachments": true
                }
              },
              {
                "email_id": "AAMkADI0ODU2ZGU3LTI5ZGQtNDY0Ni1iYzFiLWI4ZjRhMTljNTQ1YQBGAAAAAABkUMqTMlvDRKOQVnvEdfPOBwBj6T3RpLOLQb4RwZjxcAz3AAAAAAEMAABj6T3RpLOLQb4RwZjxcAz3AAAALctVAAA=",
                "subject": "random non asset related email",
                "sender": "rick@bunkerplanet.com",
                "attachments_count": 1,
                "processing_info": {
                  "attachments_processed": 1,
                  "attachments_classified": 1,
                  "assets_matched": [
                    {
                      "asset_id": "TEST_ASSET_123",
                      "confidence": 0.5454545454545454,
                      "attachment_name": "fix displays.png",
                      "file_path": "/Users/richardbunker/python/emailAgent/assets/uncategorized/unknown_asset/fix displays.png",
                      "document_category": "unknown",
                      "confidence_level": "medium",
                      "classification_metadata": {
                        "classification_confidence": 0.0,
                        "asset_confidence": 0.5454545454545454,
                        "overall_confidence": 0.2727272727272727,
                        "learning_source": "combined_memory_types",
                        "patterns_used": "combined_memory_types",
                        "detailed_patterns": {
                          "method_used": "combined_memory_classification",
                          "input_context": {
                            "filename": "fix displays.png",
                            "subject": "random non asset related email",
                            "body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "asset_type": "unknown",
                            "asset_id": "TEST_ASSET_123",
                            "document_length": 164
                          },
                          "memory_contributions": {
                            "procedural": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.25,
                              "rules_applied": [],
                              "category_scores": {},
                              "context_metrics": {
                                "asset_type_matches": 0,
                                "constraint_applications": 0,
                                "asset_context_enhancements": 0,
                                "total_rules_evaluated": 0,
                                "avg_confidence": 0.0
                              },
                              "enhancement_factors": {
                                "asset_type_boost": 1.5,
                                "asset_type_penalty": 0.6,
                                "constraint_strength": 0.6400000000000001,
                                "context_confidence_threshold": 0.3
                              },
                              "status": "enhanced_phase_3_1"
                            },
                            "semantic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.3,
                              "hints_found": [],
                              "category_scores": {},
                              "total_hints": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.2,
                              "experiences": [],
                              "status": "no_experiences"
                            },
                            "contact": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.25,
                              "patterns": [],
                              "category_scores": {},
                              "sender_found": false,
                              "total_patterns": 0,
                              "status": "success"
                            }
                          },
                          "asset_type_constraints": {
                            "allowed_categories": [
                              "financial_statements",
                              "legal_documents",
                              "tax_documents",
                              "insurance",
                              "correspondence",
                              "unknown"
                            ],
                            "constraint_applied": true,
                            "filtered_out": [],
                            "constraint_strength": 0.6400000000000001,
                            "status": "success",
                            "fallback_used": "asset_type_specific",
                            "sources": [],
                            "total_sources": 0,
                            "semantic_matches": 0
                          },
                          "decision_flow": [
                            "Starting multi-memory document classification",
                            "Applied classification weights: {'procedural': 0.25, 'semantic': 0.3, 'episodic': 0.2, 'contact': 0.25}",
                            "No categories predicted by any memory source",
                            "Unknown category - very low confidence"
                          ],
                          "category_scores": {},
                          "final_category": "other",
                          "final_confidence": 0.0,
                          "primary_driver": "none",
                          "confidence_level": "very_low"
                        },
                        "asset_identification_details": {
                          "method_used": "combined_memory_system",
                          "input_context": {
                            "email_subject": "random non asset related email",
                            "email_body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "filename": "fix displays.png",
                            "sender_email": "rick@bunkerplanet.com",
                            "total_assets_available": 4
                          },
                          "memory_contributions": {
                            "procedural": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.25,
                              "assets_analyzed": 4,
                              "matching_algorithm": "identifier_based_scoring",
                              "status": "success"
                            },
                            "semantic": {
                              "matches": [
                                {
                                  "asset_id": "TEST_ASSET_123",
                                  "confidence": 1.0,
                                  "asset_name": "Unknown"
                                },
                                {
                                  "asset_id": "6eb0d176-3bd4-48c2-bce4-c01070dca7a3",
                                  "confidence": 1.0,
                                  "asset_name": "IDT Revolver"
                                },
                                {
                                  "asset_id": "0ff9bbe8-2eee-431b-b578-d5e4e1efb999",
                                  "confidence": 1.0,
                                  "asset_name": "Gray IV"
                                },
                                {
                                  "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                                  "confidence": 1.0,
                                  "asset_name": "i3 Revolver"
                                },
                                {
                                  "asset_id": "3630bb9c-eee2-4131-9af5-d5d6a287e2db",
                                  "confidence": 1.0,
                                  "asset_name": "Trimble BoA"
                                }
                              ],
                              "confidence": 1.0,
                              "weight": 0.3,
                              "knowledge_signals": 9,
                              "feedback_signals": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "no_experiences"
                            },
                            "contact": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "unknown_sender"
                            }
                          },
                          "decision_flow": [
                            "Starting multi-memory asset identification",
                            "Applied memory weights: {'procedural': 0.45454545454545453, 'semantic': 0.5454545454545454, 'episodic': 0.0, 'contact': 0.0}",
                            "Combined 5 candidate assets, produced 5 final matches, primary driver: semantic",
                            "Decision confidence: medium (top score: 0.545, active sources: 1)"
                          ],
                          "final_scores": {
                            "TEST_ASSET_123": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Unknown"
                            },
                            "3630bb9c-eee2-4131-9af5-d5d6a287e2db": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Trimble BoA"
                            },
                            "687724b4-93e4-4dd9-8c52-1bab0162a5a6": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "i3 Revolver"
                            },
                            "6eb0d176-3bd4-48c2-bce4-c01070dca7a3": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "IDT Revolver"
                            },
                            "0ff9bbe8-2eee-431b-b578-d5e4e1efb999": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Gray IV"
                            }
                          },
                          "primary_driver": "semantic",
                          "confidence_level": "medium"
                        },
                        "asset_type_used": "unknown",
                        "memory_integration": "phase_2_complete",
                        "processing_timestamp": "2025-06-19T21:55:58.015524+00:00"
                      }
                    }
                  ],
                  "processing_time": "2025-06-19T21:55:45.876152+00:00",
                  "quarantined": 0,
                  "duplicates": 0,
                  "errors": 0,
                  "parallel_attachments": true
                }
              },
              {
                "email_id": "AAMkADI0ODU2ZGU3LTI5ZGQtNDY0Ni1iYzFiLWI4ZjRhMTljNTQ1YQBGAAAAAABkUMqTMlvDRKOQVnvEdfPOBwBj6T3RpLOLQb4RwZjxcAz3AAAAAAEMAABj6T3RpLOLQb4RwZjxcAz3AAAALctUAAA=",
                "subject": "i3 loan docs",
                "sender": "rick@bunker.us",
                "attachments_count": 1,
                "processing_info": {
                  "attachments_processed": 1,
                  "attachments_classified": 1,
                  "assets_matched": [
                    {
                      "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                      "confidence": 1.0,
                      "attachment_name": "RLV_TRM_i3_TD.pdf",
                      "file_path": "/Users/richardbunker/python/emailAgent/assets/687724b4-93e4-4dd9-8c52-1bab0162a5a6_i3_Revolver/correspondence/RLV_TRM_i3_TD.pdf",
                      "document_category": "correspondence",
                      "confidence_level": "high",
                      "classification_metadata": {
                        "classification_confidence": 0.25,
                        "asset_confidence": 1.0,
                        "overall_confidence": 0.625,
                        "learning_source": "combined_memory_types",
                        "patterns_used": "combined_memory_types",
                        "detailed_patterns": {
                          "method_used": "combined_memory_classification",
                          "input_context": {
                            "filename": "RLV_TRM_i3_TD.pdf",
                            "subject": "i3 loan docs",
                            "body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "asset_type": "private_credit",
                            "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                            "document_length": 712
                          },
                          "memory_contributions": {
                            "procedural": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.25,
                              "rules_applied": [],
                              "category_scores": {},
                              "context_metrics": {
                                "asset_type_matches": 0,
                                "constraint_applications": 0,
                                "asset_context_enhancements": 0,
                                "total_rules_evaluated": 0,
                                "avg_confidence": 0.0
                              },
                              "enhancement_factors": {
                                "asset_type_boost": 1.5,
                                "asset_type_penalty": 0.6,
                                "constraint_strength": 0.6400000000000001,
                                "context_confidence_threshold": 0.3
                              },
                              "status": "enhanced_phase_3_1"
                            },
                            "semantic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.3,
                              "hints_found": [],
                              "category_scores": {},
                              "total_hints": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.2,
                              "experiences": [],
                              "status": "no_experiences"
                            },
                            "contact": {
                              "category": "correspondence",
                              "confidence": 1.0,
                              "weight": 0.25,
                              "patterns": [
                                {
                                  "pattern_type": "body_indicator",
                                  "category": "correspondence",
                                  "confidence": 0.3,
                                  "phrase": "attached",
                                  "source": "body_pattern"
                                }
                              ],
                              "category_scores": {
                                "correspondence": 0.3
                              },
                              "sender_found": true,
                              "total_patterns": 1,
                              "status": "success"
                            }
                          },
                          "asset_type_constraints": {
                            "allowed_categories": [
                              "loan_documents",
                              "borrower_financials",
                              "covenant_compliance",
                              "credit_memo",
                              "loan_monitoring",
                              "legal_documents",
                              "tax_documents",
                              "correspondence"
                            ],
                            "constraint_applied": true,
                            "filtered_out": [],
                            "constraint_strength": 0.6400000000000001,
                            "status": "success",
                            "fallback_used": "asset_type_specific",
                            "sources": [
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              },
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              },
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              }
                            ],
                            "total_sources": 9,
                            "semantic_matches": 9
                          },
                          "decision_flow": [
                            "Starting multi-memory document classification",
                            "Applied classification weights: {'procedural': 0.25, 'semantic': 0.3, 'episodic': 0.2, 'contact': 0.25}",
                            "Combined 1 candidate categories, final decision: correspondence (confidence: 0.250), primary driver: contact, source agreement: 1 sources",
                            "Classification confidence: very_low (score: 0.250, agreement: 1 sources, active sources: 1)"
                          ],
                          "category_scores": {
                            "correspondence": 0.25
                          },
                          "final_category": "correspondence",
                          "final_confidence": 0.25,
                          "primary_driver": "contact",
                          "confidence_level": "very_low",
                          "source_agreement": {
                            "correspondence": 1
                          }
                        },
                        "asset_identification_details": {
                          "method_used": "combined_memory_system",
                          "input_context": {
                            "email_subject": "i3 loan docs",
                            "email_body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "filename": "RLV_TRM_i3_TD.pdf",
                            "sender_email": "rick@bunker.us",
                            "total_assets_available": 4
                          },
                          "memory_contributions": {
                            "procedural": {
                              "matches": [
                                {
                                  "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                                  "confidence": 0.935,
                                  "asset_name": "i3 Revolver"
                                }
                              ],
                              "confidence": 0.935,
                              "weight": 0.25,
                              "assets_analyzed": 4,
                              "matching_algorithm": "identifier_based_scoring",
                              "status": "success"
                            },
                            "semantic": {
                              "matches": [
                                {
                                  "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                                  "confidence": 1.0,
                                  "asset_name": "i3 Revolver"
                                },
                                {
                                  "asset_id": "0ff9bbe8-2eee-431b-b578-d5e4e1efb999",
                                  "confidence": 1.0,
                                  "asset_name": "Gray IV"
                                },
                                {
                                  "asset_id": "6eb0d176-3bd4-48c2-bce4-c01070dca7a3",
                                  "confidence": 1.0,
                                  "asset_name": "IDT Revolver"
                                },
                                {
                                  "asset_id": "TEST_ASSET_123",
                                  "confidence": 1.0,
                                  "asset_name": "Unknown"
                                },
                                {
                                  "asset_id": "3630bb9c-eee2-4131-9af5-d5d6a287e2db",
                                  "confidence": 1.0,
                                  "asset_name": "Trimble BoA"
                                }
                              ],
                              "confidence": 1.0,
                              "weight": 0.3,
                              "knowledge_signals": 9,
                              "feedback_signals": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "no_experiences"
                            },
                            "contact": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "unknown_sender"
                            }
                          },
                          "decision_flow": [
                            "Starting multi-memory asset identification",
                            "Applied memory weights: {'procedural': 0.45454545454545453, 'semantic': 0.5454545454545454, 'episodic': 0.0, 'contact': 0.0}",
                            "Combined 5 candidate assets, produced 5 final matches, primary driver: semantic",
                            "Decision confidence: high (top score: 1.000, active sources: 2)"
                          ],
                          "final_scores": {
                            "687724b4-93e4-4dd9-8c52-1bab0162a5a6": {
                              "scores": {
                                "procedural": 0.935,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 1.0704545454545455,
                              "active_sources": 2,
                              "final_score": 1.0,
                              "asset_name": "i3 Revolver"
                            },
                            "TEST_ASSET_123": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Unknown"
                            },
                            "3630bb9c-eee2-4131-9af5-d5d6a287e2db": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Trimble BoA"
                            },
                            "6eb0d176-3bd4-48c2-bce4-c01070dca7a3": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "IDT Revolver"
                            },
                            "0ff9bbe8-2eee-431b-b578-d5e4e1efb999": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Gray IV"
                            }
                          },
                          "primary_driver": "semantic",
                          "confidence_level": "high"
                        },
                        "asset_type_used": "private_credit",
                        "memory_integration": "phase_2_complete",
                        "processing_timestamp": "2025-06-19T21:55:59.192018+00:00"
                      }
                    }
                  ],
                  "processing_time": "2025-06-19T21:55:45.912749+00:00",
                  "quarantined": 0,
                  "duplicates": 0,
                  "errors": 0,
                  "parallel_attachments": true
                }
              },
              {
                "email_id": "AAMkADI0ODU2ZGU3LTI5ZGQtNDY0Ni1iYzFiLWI4ZjRhMTljNTQ1YQBGAAAAAABkUMqTMlvDRKOQVnvEdfPOBwBj6T3RpLOLQb4RwZjxcAz3AAAAAAEMAABj6T3RpLOLQb4RwZjxcAz3AAAALctRAAA=",
                "subject": "asset documents",
                "sender": "rick@bunker.us",
                "attachments_count": 4,
                "processing_info": {
                  "attachments_processed": 4,
                  "attachments_classified": 4,
                  "assets_matched": [
                    {
                      "asset_id": "6eb0d176-3bd4-48c2-bce4-c01070dca7a3",
                      "confidence": 1.0,
                      "attachment_name": "RLV_IDT_TDLender_OLD2012.pdf",
                      "file_path": "/Users/richardbunker/python/emailAgent/assets/6eb0d176-3bd4-48c2-bce4-c01070dca7a3_IDT_Revolver/correspondence/RLV_IDT_TDLender_OLD2012.pdf",
                      "document_category": "correspondence",
                      "confidence_level": "high",
                      "classification_metadata": {
                        "classification_confidence": 0.25,
                        "asset_confidence": 1.0,
                        "overall_confidence": 0.625,
                        "learning_source": "combined_memory_types",
                        "patterns_used": "combined_memory_types",
                        "detailed_patterns": {
                          "method_used": "combined_memory_classification",
                          "input_context": {
                            "filename": "RLV_IDT_TDLender_OLD2012.pdf",
                            "subject": "asset documents",
                            "body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "asset_type": "private_credit",
                            "asset_id": "6eb0d176-3bd4-48c2-bce4-c01070dca7a3",
                            "document_length": 728
                          },
                          "memory_contributions": {
                            "procedural": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.25,
                              "rules_applied": [],
                              "category_scores": {},
                              "context_metrics": {
                                "asset_type_matches": 0,
                                "constraint_applications": 0,
                                "asset_context_enhancements": 0,
                                "total_rules_evaluated": 0,
                                "avg_confidence": 0.0
                              },
                              "enhancement_factors": {
                                "asset_type_boost": 1.5,
                                "asset_type_penalty": 0.6,
                                "constraint_strength": 0.6400000000000001,
                                "context_confidence_threshold": 0.3
                              },
                              "status": "enhanced_phase_3_1"
                            },
                            "semantic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.3,
                              "hints_found": [],
                              "category_scores": {},
                              "total_hints": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.2,
                              "experiences": [],
                              "status": "no_experiences"
                            },
                            "contact": {
                              "category": "correspondence",
                              "confidence": 1.0,
                              "weight": 0.25,
                              "patterns": [
                                {
                                  "pattern_type": "body_indicator",
                                  "category": "correspondence",
                                  "confidence": 0.3,
                                  "phrase": "attached",
                                  "source": "body_pattern"
                                }
                              ],
                              "category_scores": {
                                "correspondence": 0.3
                              },
                              "sender_found": true,
                              "total_patterns": 1,
                              "status": "success"
                            }
                          },
                          "asset_type_constraints": {
                            "allowed_categories": [
                              "loan_documents",
                              "borrower_financials",
                              "covenant_compliance",
                              "credit_memo",
                              "loan_monitoring",
                              "legal_documents",
                              "tax_documents",
                              "correspondence"
                            ],
                            "constraint_applied": true,
                            "filtered_out": [],
                            "constraint_strength": 0.6400000000000001,
                            "status": "success",
                            "fallback_used": "asset_type_specific",
                            "sources": [
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              },
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              },
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              }
                            ],
                            "total_sources": 9,
                            "semantic_matches": 9
                          },
                          "decision_flow": [
                            "Starting multi-memory document classification",
                            "Applied classification weights: {'procedural': 0.25, 'semantic': 0.3, 'episodic': 0.2, 'contact': 0.25}",
                            "Combined 1 candidate categories, final decision: correspondence (confidence: 0.250), primary driver: contact, source agreement: 1 sources",
                            "Classification confidence: very_low (score: 0.250, agreement: 1 sources, active sources: 1)"
                          ],
                          "category_scores": {
                            "correspondence": 0.25
                          },
                          "final_category": "correspondence",
                          "final_confidence": 0.25,
                          "primary_driver": "contact",
                          "confidence_level": "very_low",
                          "source_agreement": {
                            "correspondence": 1
                          }
                        },
                        "asset_identification_details": {
                          "method_used": "combined_memory_system",
                          "input_context": {
                            "email_subject": "asset documents",
                            "email_body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "filename": "RLV_IDT_TDLender_OLD2012.pdf",
                            "sender_email": "rick@bunker.us",
                            "total_assets_available": 4
                          },
                          "memory_contributions": {
                            "procedural": {
                              "matches": [
                                {
                                  "asset_id": "6eb0d176-3bd4-48c2-bce4-c01070dca7a3",
                                  "confidence": 0.8250000000000001,
                                  "asset_name": "IDT Revolver"
                                }
                              ],
                              "confidence": 0.8250000000000001,
                              "weight": 0.25,
                              "assets_analyzed": 4,
                              "matching_algorithm": "identifier_based_scoring",
                              "status": "success"
                            },
                            "semantic": {
                              "matches": [
                                {
                                  "asset_id": "6eb0d176-3bd4-48c2-bce4-c01070dca7a3",
                                  "confidence": 1.0,
                                  "asset_name": "IDT Revolver"
                                },
                                {
                                  "asset_id": "0ff9bbe8-2eee-431b-b578-d5e4e1efb999",
                                  "confidence": 1.0,
                                  "asset_name": "Gray IV"
                                },
                                {
                                  "asset_id": "TEST_ASSET_123",
                                  "confidence": 1.0,
                                  "asset_name": "Unknown"
                                },
                                {
                                  "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                                  "confidence": 1.0,
                                  "asset_name": "i3 Revolver"
                                },
                                {
                                  "asset_id": "3630bb9c-eee2-4131-9af5-d5d6a287e2db",
                                  "confidence": 1.0,
                                  "asset_name": "Trimble BoA"
                                }
                              ],
                              "confidence": 1.0,
                              "weight": 0.3,
                              "knowledge_signals": 9,
                              "feedback_signals": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "no_experiences"
                            },
                            "contact": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "unknown_sender"
                            }
                          },
                          "decision_flow": [
                            "Starting multi-memory asset identification",
                            "Applied memory weights: {'procedural': 0.45454545454545453, 'semantic': 0.5454545454545454, 'episodic': 0.0, 'contact': 0.0}",
                            "Combined 5 candidate assets, produced 5 final matches, primary driver: semantic",
                            "Decision confidence: high (top score: 1.000, active sources: 2)"
                          ],
                          "final_scores": {
                            "6eb0d176-3bd4-48c2-bce4-c01070dca7a3": {
                              "scores": {
                                "procedural": 0.8250000000000001,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 1.0204545454545455,
                              "active_sources": 2,
                              "final_score": 1.0,
                              "asset_name": "IDT Revolver"
                            },
                            "TEST_ASSET_123": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Unknown"
                            },
                            "3630bb9c-eee2-4131-9af5-d5d6a287e2db": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Trimble BoA"
                            },
                            "687724b4-93e4-4dd9-8c52-1bab0162a5a6": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "i3 Revolver"
                            },
                            "0ff9bbe8-2eee-431b-b578-d5e4e1efb999": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Gray IV"
                            }
                          },
                          "primary_driver": "semantic",
                          "confidence_level": "high"
                        },
                        "asset_type_used": "private_credit",
                        "memory_integration": "phase_2_complete",
                        "processing_timestamp": "2025-06-19T21:55:58.573042+00:00"
                      }
                    },
                    {
                      "asset_id": "3630bb9c-eee2-4131-9af5-d5d6a287e2db",
                      "confidence": 1.0,
                      "attachment_name": "RLV_Trimble_TD_Syndicated.pdf",
                      "file_path": "/Users/richardbunker/python/emailAgent/assets/3630bb9c-eee2-4131-9af5-d5d6a287e2db_Trimble_BoA/correspondence/RLV_Trimble_TD_Syndicated.pdf",
                      "document_category": "correspondence",
                      "confidence_level": "high",
                      "classification_metadata": {
                        "classification_confidence": 0.25,
                        "asset_confidence": 1.0,
                        "overall_confidence": 0.625,
                        "learning_source": "combined_memory_types",
                        "patterns_used": "combined_memory_types",
                        "detailed_patterns": {
                          "method_used": "combined_memory_classification",
                          "input_context": {
                            "filename": "RLV_Trimble_TD_Syndicated.pdf",
                            "subject": "asset documents",
                            "body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "asset_type": "private_credit",
                            "asset_id": "3630bb9c-eee2-4131-9af5-d5d6a287e2db",
                            "document_length": 728
                          },
                          "memory_contributions": {
                            "procedural": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.25,
                              "rules_applied": [],
                              "category_scores": {},
                              "context_metrics": {
                                "asset_type_matches": 0,
                                "constraint_applications": 0,
                                "asset_context_enhancements": 0,
                                "total_rules_evaluated": 0,
                                "avg_confidence": 0.0
                              },
                              "enhancement_factors": {
                                "asset_type_boost": 1.5,
                                "asset_type_penalty": 0.6,
                                "constraint_strength": 0.6400000000000001,
                                "context_confidence_threshold": 0.3
                              },
                              "status": "enhanced_phase_3_1"
                            },
                            "semantic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.3,
                              "hints_found": [],
                              "category_scores": {},
                              "total_hints": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.2,
                              "experiences": [],
                              "status": "no_experiences"
                            },
                            "contact": {
                              "category": "correspondence",
                              "confidence": 1.0,
                              "weight": 0.25,
                              "patterns": [
                                {
                                  "pattern_type": "body_indicator",
                                  "category": "correspondence",
                                  "confidence": 0.3,
                                  "phrase": "attached",
                                  "source": "body_pattern"
                                }
                              ],
                              "category_scores": {
                                "correspondence": 0.3
                              },
                              "sender_found": true,
                              "total_patterns": 1,
                              "status": "success"
                            }
                          },
                          "asset_type_constraints": {
                            "allowed_categories": [
                              "loan_documents",
                              "borrower_financials",
                              "covenant_compliance",
                              "credit_memo",
                              "loan_monitoring",
                              "legal_documents",
                              "tax_documents",
                              "correspondence"
                            ],
                            "constraint_applied": true,
                            "filtered_out": [],
                            "constraint_strength": 0.6400000000000001,
                            "status": "success",
                            "fallback_used": "asset_type_specific",
                            "sources": [
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              },
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              },
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              }
                            ],
                            "total_sources": 9,
                            "semantic_matches": 9
                          },
                          "decision_flow": [
                            "Starting multi-memory document classification",
                            "Applied classification weights: {'procedural': 0.25, 'semantic': 0.3, 'episodic': 0.2, 'contact': 0.25}",
                            "Combined 1 candidate categories, final decision: correspondence (confidence: 0.250), primary driver: contact, source agreement: 1 sources",
                            "Classification confidence: very_low (score: 0.250, agreement: 1 sources, active sources: 1)"
                          ],
                          "category_scores": {
                            "correspondence": 0.25
                          },
                          "final_category": "correspondence",
                          "final_confidence": 0.25,
                          "primary_driver": "contact",
                          "confidence_level": "very_low",
                          "source_agreement": {
                            "correspondence": 1
                          }
                        },
                        "asset_identification_details": {
                          "method_used": "combined_memory_system",
                          "input_context": {
                            "email_subject": "asset documents",
                            "email_body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "filename": "RLV_Trimble_TD_Syndicated.pdf",
                            "sender_email": "rick@bunker.us",
                            "total_assets_available": 4
                          },
                          "memory_contributions": {
                            "procedural": {
                              "matches": [
                                {
                                  "asset_id": "3630bb9c-eee2-4131-9af5-d5d6a287e2db",
                                  "confidence": 0.8250000000000001,
                                  "asset_name": "Trimble BoA"
                                }
                              ],
                              "confidence": 0.8250000000000001,
                              "weight": 0.25,
                              "assets_analyzed": 4,
                              "matching_algorithm": "identifier_based_scoring",
                              "status": "success"
                            },
                            "semantic": {
                              "matches": [
                                {
                                  "asset_id": "6eb0d176-3bd4-48c2-bce4-c01070dca7a3",
                                  "confidence": 1.0,
                                  "asset_name": "IDT Revolver"
                                },
                                {
                                  "asset_id": "0ff9bbe8-2eee-431b-b578-d5e4e1efb999",
                                  "confidence": 1.0,
                                  "asset_name": "Gray IV"
                                },
                                {
                                  "asset_id": "TEST_ASSET_123",
                                  "confidence": 1.0,
                                  "asset_name": "Unknown"
                                },
                                {
                                  "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                                  "confidence": 1.0,
                                  "asset_name": "i3 Revolver"
                                },
                                {
                                  "asset_id": "3630bb9c-eee2-4131-9af5-d5d6a287e2db",
                                  "confidence": 1.0,
                                  "asset_name": "Trimble BoA"
                                }
                              ],
                              "confidence": 1.0,
                              "weight": 0.3,
                              "knowledge_signals": 9,
                              "feedback_signals": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "no_experiences"
                            },
                            "contact": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "unknown_sender"
                            }
                          },
                          "decision_flow": [
                            "Starting multi-memory asset identification",
                            "Applied memory weights: {'procedural': 0.45454545454545453, 'semantic': 0.5454545454545454, 'episodic': 0.0, 'contact': 0.0}",
                            "Combined 5 candidate assets, produced 5 final matches, primary driver: semantic",
                            "Decision confidence: high (top score: 1.000, active sources: 2)"
                          ],
                          "final_scores": {
                            "3630bb9c-eee2-4131-9af5-d5d6a287e2db": {
                              "scores": {
                                "procedural": 0.8250000000000001,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 1.0204545454545455,
                              "active_sources": 2,
                              "final_score": 1.0,
                              "asset_name": "Trimble BoA"
                            },
                            "TEST_ASSET_123": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Unknown"
                            },
                            "687724b4-93e4-4dd9-8c52-1bab0162a5a6": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "i3 Revolver"
                            },
                            "6eb0d176-3bd4-48c2-bce4-c01070dca7a3": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "IDT Revolver"
                            },
                            "0ff9bbe8-2eee-431b-b578-d5e4e1efb999": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Gray IV"
                            }
                          },
                          "primary_driver": "semantic",
                          "confidence_level": "high"
                        },
                        "asset_type_used": "private_credit",
                        "memory_integration": "phase_2_complete",
                        "processing_timestamp": "2025-06-19T21:55:59.076412+00:00"
                      }
                    },
                    {
                      "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                      "confidence": 1.0,
                      "attachment_name": "RLV_TRM_i3_TD.pdf",
                      "file_path": "/Users/richardbunker/python/emailAgent/assets/687724b4-93e4-4dd9-8c52-1bab0162a5a6_i3_Revolver/correspondence/RLV_TRM_i3_TD_001.pdf",
                      "document_category": "correspondence",
                      "confidence_level": "high",
                      "classification_metadata": {
                        "classification_confidence": 0.25,
                        "asset_confidence": 1.0,
                        "overall_confidence": 0.625,
                        "learning_source": "combined_memory_types",
                        "patterns_used": "combined_memory_types",
                        "detailed_patterns": {
                          "method_used": "combined_memory_classification",
                          "input_context": {
                            "filename": "RLV_TRM_i3_TD.pdf",
                            "subject": "asset documents",
                            "body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "asset_type": "private_credit",
                            "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                            "document_length": 728
                          },
                          "memory_contributions": {
                            "procedural": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.25,
                              "rules_applied": [],
                              "category_scores": {},
                              "context_metrics": {
                                "asset_type_matches": 0,
                                "constraint_applications": 0,
                                "asset_context_enhancements": 0,
                                "total_rules_evaluated": 0,
                                "avg_confidence": 0.0
                              },
                              "enhancement_factors": {
                                "asset_type_boost": 1.5,
                                "asset_type_penalty": 0.6,
                                "constraint_strength": 0.6400000000000001,
                                "context_confidence_threshold": 0.3
                              },
                              "status": "enhanced_phase_3_1"
                            },
                            "semantic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.3,
                              "hints_found": [],
                              "category_scores": {},
                              "total_hints": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.2,
                              "experiences": [],
                              "status": "no_experiences"
                            },
                            "contact": {
                              "category": "correspondence",
                              "confidence": 1.0,
                              "weight": 0.25,
                              "patterns": [
                                {
                                  "pattern_type": "body_indicator",
                                  "category": "correspondence",
                                  "confidence": 0.3,
                                  "phrase": "attached",
                                  "source": "body_pattern"
                                }
                              ],
                              "category_scores": {
                                "correspondence": 0.3
                              },
                              "sender_found": true,
                              "total_patterns": 1,
                              "status": "success"
                            }
                          },
                          "asset_type_constraints": {
                            "allowed_categories": [
                              "loan_documents",
                              "borrower_financials",
                              "covenant_compliance",
                              "credit_memo",
                              "loan_monitoring",
                              "legal_documents",
                              "tax_documents",
                              "correspondence"
                            ],
                            "constraint_applied": true,
                            "filtered_out": [],
                            "constraint_strength": 0.6400000000000001,
                            "status": "success",
                            "fallback_used": "asset_type_specific",
                            "sources": [
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              },
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              },
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              }
                            ],
                            "total_sources": 9,
                            "semantic_matches": 9
                          },
                          "decision_flow": [
                            "Starting multi-memory document classification",
                            "Applied classification weights: {'procedural': 0.25, 'semantic': 0.3, 'episodic': 0.2, 'contact': 0.25}",
                            "Combined 1 candidate categories, final decision: correspondence (confidence: 0.250), primary driver: contact, source agreement: 1 sources",
                            "Classification confidence: very_low (score: 0.250, agreement: 1 sources, active sources: 1)"
                          ],
                          "category_scores": {
                            "correspondence": 0.25
                          },
                          "final_category": "correspondence",
                          "final_confidence": 0.25,
                          "primary_driver": "contact",
                          "confidence_level": "very_low",
                          "source_agreement": {
                            "correspondence": 1
                          }
                        },
                        "asset_identification_details": {
                          "method_used": "combined_memory_system",
                          "input_context": {
                            "email_subject": "asset documents",
                            "email_body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "filename": "RLV_TRM_i3_TD.pdf",
                            "sender_email": "rick@bunker.us",
                            "total_assets_available": 4
                          },
                          "memory_contributions": {
                            "procedural": {
                              "matches": [
                                {
                                  "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                                  "confidence": 0.8250000000000001,
                                  "asset_name": "i3 Revolver"
                                }
                              ],
                              "confidence": 0.8250000000000001,
                              "weight": 0.25,
                              "assets_analyzed": 4,
                              "matching_algorithm": "identifier_based_scoring",
                              "status": "success"
                            },
                            "semantic": {
                              "matches": [
                                {
                                  "asset_id": "6eb0d176-3bd4-48c2-bce4-c01070dca7a3",
                                  "confidence": 1.0,
                                  "asset_name": "IDT Revolver"
                                },
                                {
                                  "asset_id": "0ff9bbe8-2eee-431b-b578-d5e4e1efb999",
                                  "confidence": 1.0,
                                  "asset_name": "Gray IV"
                                },
                                {
                                  "asset_id": "TEST_ASSET_123",
                                  "confidence": 1.0,
                                  "asset_name": "Unknown"
                                },
                                {
                                  "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                                  "confidence": 1.0,
                                  "asset_name": "i3 Revolver"
                                },
                                {
                                  "asset_id": "3630bb9c-eee2-4131-9af5-d5d6a287e2db",
                                  "confidence": 1.0,
                                  "asset_name": "Trimble BoA"
                                }
                              ],
                              "confidence": 1.0,
                              "weight": 0.3,
                              "knowledge_signals": 9,
                              "feedback_signals": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "no_experiences"
                            },
                            "contact": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "unknown_sender"
                            }
                          },
                          "decision_flow": [
                            "Starting multi-memory asset identification",
                            "Applied memory weights: {'procedural': 0.45454545454545453, 'semantic': 0.5454545454545454, 'episodic': 0.0, 'contact': 0.0}",
                            "Combined 5 candidate assets, produced 5 final matches, primary driver: semantic",
                            "Decision confidence: high (top score: 1.000, active sources: 2)"
                          ],
                          "final_scores": {
                            "687724b4-93e4-4dd9-8c52-1bab0162a5a6": {
                              "scores": {
                                "procedural": 0.8250000000000001,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 1.0204545454545455,
                              "active_sources": 2,
                              "final_score": 1.0,
                              "asset_name": "i3 Revolver"
                            },
                            "TEST_ASSET_123": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Unknown"
                            },
                            "3630bb9c-eee2-4131-9af5-d5d6a287e2db": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Trimble BoA"
                            },
                            "6eb0d176-3bd4-48c2-bce4-c01070dca7a3": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "IDT Revolver"
                            },
                            "0ff9bbe8-2eee-431b-b578-d5e4e1efb999": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Gray IV"
                            }
                          },
                          "primary_driver": "semantic",
                          "confidence_level": "high"
                        },
                        "asset_type_used": "private_credit",
                        "memory_integration": "phase_2_complete",
                        "processing_timestamp": "2025-06-19T21:55:59.215573+00:00"
                      }
                    },
                    {
                      "asset_id": "0ff9bbe8-2eee-431b-b578-d5e4e1efb999",
                      "confidence": 1.0,
                      "attachment_name": "RLV_TRM_Gray.pdf",
                      "file_path": "/Users/richardbunker/python/emailAgent/assets/0ff9bbe8-2eee-431b-b578-d5e4e1efb999_Gray_IV/correspondence/RLV_TRM_Gray.pdf",
                      "document_category": "correspondence",
                      "confidence_level": "high",
                      "classification_metadata": {
                        "classification_confidence": 0.25,
                        "asset_confidence": 1.0,
                        "overall_confidence": 0.625,
                        "learning_source": "combined_memory_types",
                        "patterns_used": "combined_memory_types",
                        "detailed_patterns": {
                          "method_used": "combined_memory_classification",
                          "input_context": {
                            "filename": "RLV_TRM_Gray.pdf",
                            "subject": "asset documents",
                            "body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "asset_type": "private_credit",
                            "asset_id": "0ff9bbe8-2eee-431b-b578-d5e4e1efb999",
                            "document_length": 728
                          },
                          "memory_contributions": {
                            "procedural": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.25,
                              "rules_applied": [],
                              "category_scores": {},
                              "context_metrics": {
                                "asset_type_matches": 0,
                                "constraint_applications": 0,
                                "asset_context_enhancements": 0,
                                "total_rules_evaluated": 0,
                                "avg_confidence": 0.0
                              },
                              "enhancement_factors": {
                                "asset_type_boost": 1.5,
                                "asset_type_penalty": 0.6,
                                "constraint_strength": 0.6400000000000001,
                                "context_confidence_threshold": 0.3
                              },
                              "status": "enhanced_phase_3_1"
                            },
                            "semantic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.3,
                              "hints_found": [],
                              "category_scores": {},
                              "total_hints": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "category": "",
                              "confidence": 0.0,
                              "weight": 0.2,
                              "experiences": [],
                              "status": "no_experiences"
                            },
                            "contact": {
                              "category": "correspondence",
                              "confidence": 1.0,
                              "weight": 0.25,
                              "patterns": [
                                {
                                  "pattern_type": "body_indicator",
                                  "category": "correspondence",
                                  "confidence": 0.3,
                                  "phrase": "attached",
                                  "source": "body_pattern"
                                }
                              ],
                              "category_scores": {
                                "correspondence": 0.3
                              },
                              "sender_found": true,
                              "total_patterns": 1,
                              "status": "success"
                            }
                          },
                          "asset_type_constraints": {
                            "allowed_categories": [
                              "loan_documents",
                              "borrower_financials",
                              "covenant_compliance",
                              "credit_memo",
                              "loan_monitoring",
                              "legal_documents",
                              "tax_documents",
                              "correspondence"
                            ],
                            "constraint_applied": true,
                            "filtered_out": [],
                            "constraint_strength": 0.6400000000000001,
                            "status": "success",
                            "fallback_used": "asset_type_specific",
                            "sources": [
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              },
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              },
                              {
                                "source": "asset_knowledge",
                                "categories": [],
                                "confidence": "high"
                              }
                            ],
                            "total_sources": 9,
                            "semantic_matches": 9
                          },
                          "decision_flow": [
                            "Starting multi-memory document classification",
                            "Applied classification weights: {'procedural': 0.25, 'semantic': 0.3, 'episodic': 0.2, 'contact': 0.25}",
                            "Combined 1 candidate categories, final decision: correspondence (confidence: 0.250), primary driver: contact, source agreement: 1 sources",
                            "Classification confidence: very_low (score: 0.250, agreement: 1 sources, active sources: 1)"
                          ],
                          "category_scores": {
                            "correspondence": 0.25
                          },
                          "final_category": "correspondence",
                          "final_confidence": 0.25,
                          "primary_driver": "contact",
                          "confidence_level": "very_low",
                          "source_agreement": {
                            "correspondence": 1
                          }
                        },
                        "asset_identification_details": {
                          "method_used": "combined_memory_system",
                          "input_context": {
                            "email_subject": "asset documents",
                            "email_body": "<html><head>\r\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"></head><body><div d...",
                            "filename": "RLV_TRM_Gray.pdf",
                            "sender_email": "rick@bunker.us",
                            "total_assets_available": 4
                          },
                          "memory_contributions": {
                            "procedural": {
                              "matches": [
                                {
                                  "asset_id": "0ff9bbe8-2eee-431b-b578-d5e4e1efb999",
                                  "confidence": 0.8250000000000001,
                                  "asset_name": "Gray IV"
                                }
                              ],
                              "confidence": 0.8250000000000001,
                              "weight": 0.25,
                              "assets_analyzed": 4,
                              "matching_algorithm": "identifier_based_scoring",
                              "status": "success"
                            },
                            "semantic": {
                              "matches": [
                                {
                                  "asset_id": "6eb0d176-3bd4-48c2-bce4-c01070dca7a3",
                                  "confidence": 1.0,
                                  "asset_name": "IDT Revolver"
                                },
                                {
                                  "asset_id": "0ff9bbe8-2eee-431b-b578-d5e4e1efb999",
                                  "confidence": 1.0,
                                  "asset_name": "Gray IV"
                                },
                                {
                                  "asset_id": "TEST_ASSET_123",
                                  "confidence": 1.0,
                                  "asset_name": "Unknown"
                                },
                                {
                                  "asset_id": "687724b4-93e4-4dd9-8c52-1bab0162a5a6",
                                  "confidence": 1.0,
                                  "asset_name": "i3 Revolver"
                                },
                                {
                                  "asset_id": "3630bb9c-eee2-4131-9af5-d5d6a287e2db",
                                  "confidence": 1.0,
                                  "asset_name": "Trimble BoA"
                                }
                              ],
                              "confidence": 1.0,
                              "weight": 0.3,
                              "knowledge_signals": 9,
                              "feedback_signals": 0,
                              "status": "success"
                            },
                            "episodic": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "no_experiences"
                            },
                            "contact": {
                              "matches": [],
                              "confidence": 0.0,
                              "weight": 0.0,
                              "status": "unknown_sender"
                            }
                          },
                          "decision_flow": [
                            "Starting multi-memory asset identification",
                            "Applied memory weights: {'procedural': 0.45454545454545453, 'semantic': 0.5454545454545454, 'episodic': 0.0, 'contact': 0.0}",
                            "Combined 5 candidate assets, produced 5 final matches, primary driver: semantic",
                            "Decision confidence: high (top score: 1.000, active sources: 2)"
                          ],
                          "final_scores": {
                            "0ff9bbe8-2eee-431b-b578-d5e4e1efb999": {
                              "scores": {
                                "procedural": 0.8250000000000001,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 1.0204545454545455,
                              "active_sources": 2,
                              "final_score": 1.0,
                              "asset_name": "Gray IV"
                            },
                            "TEST_ASSET_123": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Unknown"
                            },
                            "3630bb9c-eee2-4131-9af5-d5d6a287e2db": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "Trimble BoA"
                            },
                            "687724b4-93e4-4dd9-8c52-1bab0162a5a6": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "i3 Revolver"
                            },
                            "6eb0d176-3bd4-48c2-bce4-c01070dca7a3": {
                              "scores": {
                                "procedural": 0.0,
                                "semantic": 1.0,
                                "episodic": 0.0,
                                "contact": 0.0
                              },
                              "weighted_score": 0.5454545454545454,
                              "active_sources": 1,
                              "final_score": 0.5454545454545454,
                              "asset_name": "IDT Revolver"
                            }
                          },
                          "primary_driver": "semantic",
                          "confidence_level": "high"
                        },
                        "asset_type_used": "private_credit",
                        "memory_integration": "phase_2_complete",
                        "processing_timestamp": "2025-06-19T21:55:59.400696+00:00"
                      }
                    }
                  ],
                  "processing_time": "2025-06-19T21:55:46.031189+00:00",
                  "quarantined": 0,
                  "duplicates": 0,
                  "errors": 0,
                  "parallel_attachments": true
                }
              }
            ],
            "parallel_stats": {
              "max_concurrent_emails": 5,
              "max_concurrent_attachments": 10,
              "batch_size": 20
            }
          }
        ],
        "total_time": "2025-06-19T21:55:59.479335+00:00",
        "parameters": {
          "mailbox_id": "msgraph_primary",
          "mailbox_name": "Microsoft 365 (Primary Account)",
          "hours_back": 720,
          "force_reprocess": false,
          "timestamp": "2025-06-19T21:55:38.943640+00:00"
        }
      },
      "summary": {
        "total_mailboxes": 1,
        "total_emails_found": 5,
        "total_emails_processed": 5,
        "total_attachments": 8,
        "total_errors": 0,
        "total_duplicates": 0,
        "total_classified": 7,
        "total_needs_review": 0
      }
    }
  ],
  "last_updated": "2025-06-19T21:55:59.479441+00:00"
}
